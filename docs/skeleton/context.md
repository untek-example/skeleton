# Контекст

todo: Перенести инфу о Симфони в другую документацию.

Контекстное ядро в Symfony относится к пользовательской реализации класса Kernel, которая позволяет запускать несколько
приложений, каждое из которых имеет собственный контекст (например, `api.example.com` и `admin.example.com`), в одном репозитории проекта.
Различные контексты прозрачны для конечного пользователя, но позволяют четко разделить задачи и организовать
кодовую базу.

Каждый контекст соответствует отдельной и отличной точке входа (сайт, API или админка), каждая со своим собственным набором выделенных маршрутов и конфигурации.
Несмотря на это разделение, общий код, такой как зависимости и бизнес-логика, используется совместно во всех контекстах.
Ядро использует контекст запроса для определения подходящей точки входа для обработки запроса,
обеспечивая правильность маршрутов и конфигурации для каждого контекста.

## Конфигурация на основе контекста

Структура проекта включает новый каталог `context/`, в котором организованы файлы конфигурации и представления в соответствии с контекстом ядра.
Каталог `src/` содержит основную функциональность приложения, разделенную на модули для лучшей организаций и управления.

    ├── config/
    ├── context/
    │   ├── admin/
    │   │   ├── config/
    │   │   └── src/
    │   │       ├── Command/
    │   │       └── Controller/
    │   ├── api/
    │   ├── site/
    │   └── Kernel.php
    ├── src/
    │   ├── Module/
    │   │   └── SubModule/
    │   │       ├── Application/
    │   │       ├── Domain/
    │   │       ├── Infrastructure/
    │   │       └── Presentation/
    │   ├── Shared/
    │   │   ├── Application/
    │   │   ├── Domain/
    │   │   ├── Infrastructure/
    │   │   └── Presentation/
    ├── var/
    │   ├── admin/
    │   │   ├── cache/
    │   │   │   ├── dev/
    │   │   │   └── prod/
    │   │   ├── api/
    │   │   └── site/
    │   ├── cache/
    │   └── logs/

* config/
* context/
    * admin/
        * config/
        * src/
            * Command/
            * Controller/
    * api/
    * site/
    * Kernel.php
* src/
    * Module/
        * SubModule/
            * Application/
            * Domain/
            * Infrastructure/
            * Presentation/
    * Shared/
        * Application/
        * Domain/
        * Infrastructure/
        * Presentation/
* var/
    * admin/
        * dev/
            * log/
            * cache/
        * prod/
        * test/
    * api/
    * site/
    * console/

Структура проекта включает в себя подкаталоги: admin, api и site, как часть контекстного подхода ядра.
Эти каталоги содержат все файлы и конфигурации, характерные для каждого контекста.
Напротив, файлы и каталоги, расположенные в корне каталога `config/`, распознаются как глобальная конфигурация для всех контекстов.

Для оптимизации производительности каждое приложение описано, как контекст ядра, и имеет свой собственный файл-контейнер внедрения зависимостей,
конфигурации и специальных настроек.
Однако общие элементы, такие как `vendor/`, `config/` и `src/`, являются общими для всех контекстов.
Такой подход позволяет эффективно управлять ресурсами и организовывать кодовую базу.
